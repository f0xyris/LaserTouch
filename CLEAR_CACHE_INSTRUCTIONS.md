# Инструкции по очистке кеша браузера

## Проблема

Браузер автоматически обновляет страницу каждые 5 секунд, даже когда сервер остановлен.

## Решение

### 1. Очистите кеш браузера

#### Chrome/Edge:

1. Откройте DevTools (`F12`)
2. Перейдите на вкладку **Network**
3. Поставьте галочку **Disable cache**
4. Нажмите `Ctrl + Shift + R` для жесткого обновления

#### Или через настройки:

1. `Ctrl + Shift + Delete`
2. Выберите "Все время"
3. Отметьте все галочки
4. Нажмите "Удалить данные"

### 2. Отключите Service Worker

#### В Chrome DevTools:

1. Откройте DevTools (`F12`)
2. Перейдите на вкладку **Application**
3. В левой панели найдите **Service Workers**
4. Нажмите **Unregister** для всех Service Workers

### 3. Проверьте, что сервер действительно остановлен

Откройте `http://localhost:5000` - должна появиться ошибка:

- "ERR_CONNECTION_REFUSED"
- "Сайт недоступен"
- "This site can't be reached"

### 4. Временные изменения в коде

Я временно отключил:

- ✅ Service Worker (`client/public/sw.js`)
- ✅ Автоматическое обновление кеша (`client/src/hooks/useCache.ts`)
- ✅ Автоматическое обновление React Query (`client/src/lib/queryClient.ts`)

### 5. Тестирование

После очистки кеша:

1. Откройте `http://localhost:5000`
2. Должна появиться ошибка подключения
3. Страница НЕ должна автоматически обновляться

### 6. Восстановление функций

После тестирования можно включить обратно:

1. Раскомментировать код в `useCache.ts`
2. Включить `refetchOnWindowFocus: true` в `queryClient.ts`
3. Раскомментировать Service Worker в `sw.js`

## Команды для проверки

```bash
# Проверить процессы Node.js
tasklist | findstr node

# Проверить порт 5000
netstat -ano | findstr :5000

# Остановить все процессы Node.js
taskkill /f /im node.exe
```
